# 初始化与未初始化的变量

### Q1：进程空间分为哪些段？各有什么作用？(注意是进程，不是程序)
> 5个基本的段，分别为text段、heap段、stack段、data段、BSS段。
> - `text段`：放代码，只读，可共享，可重入。
> - `heap段`：放数据，可以动态创建和销毁，如new。
> - `stack段`：放进程运行时临时创建的数据，如函数的嵌套执行。
> - `data段`：放初始化了的全局变量和静态变量。
> - `BSS段`：放未初始化的全局变量和静态变量。

### Q2：未初始化的局部变量在哪个段中？默认值是什么？
> A：在stack段中，无默认值。
> 函数体内声明的变量为局部变量，均在栈段，声明期结束自动销毁。仅声明的变量是不会被初始化的，而其值是多少是不确定的，视内存分配时分配在哪一块，之前里面是什么信息就是什么信息，啥都有可能。(注：这里讲的都是内建类型，如int，double，char等，自定义的如Class要另外考虑)

### Q3：未初始化的全局变量在哪个段中？默认值是什么？
> A：在BSS段，会被初始化为默认值。比如
> - int，short，char，double等数字型的会被初始化为0;
> - 指针初始化为NULL;
> - 枚举，union等初始化为首个值;
> - 结构体按如上处理；
> - 数组按如上处理。
> 
> static声明的未初始化的静态变量也是放在BSS段中，包括定义在函数体内的以及函数体外的static变量，在首次使用时初始化(TODO 待验证)。
