# const关键字

- 修饰全局变量
- 修饰局部变量
- 修饰成员变量
- 修饰对象
- 修饰成员函数
- 修饰形参(引用、指针等)
- 修饰返回值


### 修饰全局变量
作用是防止程序修改全局变量，无论是故意还是不小心。
```
//file.cpp
#include <cstdio>
const int PI = 3.14;	// 全局常量
int main(){return 0;};
```

### 修饰局部变量
作用是防止程序修改全局变量，无论是故意还是不小心。
```
#include <cstdio>
int main(){
	const int cnt = 50;	// 局部常量
	return 0;
};
```

### 修饰成员变量
我们知道，如果没有自定义的构造函数，编译器会自动生成一个默认构造函数,同理还有析构函数、拷贝构造函数、赋值运算符函数。
若类中含有常量成员，则必须为该类必须有自定义的构造函数，创建类对象时必须显式调用构造函数，并在构造函数里初始化成员常量。

```
class Son{
	const int a;
    Son(int a):a(a){}	//注释写法。不能写成{b=a;}，这不是初始化。
};
int main(){
	Son a;	//错误，没有显式调用构造函数。
    Son a();	//错误，这是函数的声明格式。
    Son b(2);	//正确
	return 0;
}
```


### 修饰对象
对象常量在没有成员变量的情况下可以不用显式调用构造函数，否则仍需显式调用。对象常量的功能受限，可以访问其成员变量和const修饰的成员函数，编译器害怕没有const修饰的成员函数会改了此对象中的变量，成员变量也是只读的。

```
class Mon{
	int c;
    Mon(){};
};
int main(){
	Son a;	//错误，没有显式调用构造函数。
    Son a();	//错误，这是函数的声明格式。
    Son b(2);	//正确
	return 0;
}
```

### 修饰成员函数
const修饰的成员函数中不允许修改该类的成员变量的值，即可读不可写，而其他变量是可以读写的，比如全局变量，临时变量。
```
class Kok{
	int e;
    void test() const {};	// const位于圆括号之后
};
```

### 修饰形参
作用是限制变量只读以防止误操作。
```
void test1(const int name) {};
void test2(const int &name) {};	//修饰引用，限制name只读
void test3(const int *name) {};	//修饰指针，限制指针不可指向其他内存
```


### 修饰返回值
平时比较少见，大概如下这几种。
```
const int test1() {...};	//返回常整型
const int& test2() {...};	//返回常引用(别返回一个临时变量)
const int* test3() {...};	//返回常量指针
int * const test4() {...};	//返回指针常量
```








