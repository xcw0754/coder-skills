# 虚函数与纯虚函数

### 虚函数

在类的某个成员函数声明之前加一个virtual关键字就能将该函数声明为虚函数。如下
```
class Base {
public:
	virtual void f() {};	//这就是虚函数
};
```
有什么用？
> 实现多多态。就是说，如果有一个类D继承了Base，我可以用基类指针`Base *p = new D`指向派生类D，在程序运行时会自动决定要调用Base的函数f还是D的函数f。具体怎么决定，分情况：
- 如果基类Base有虚函数f，派生类D没有重写。那么运行时调用D的f。
- 如果基类Base有虚函数f，派生类D重写了它。那么运行时调用Base的f。

严肃地再问一遍：有什么用？
> Well，讲实用性。
> 当我想访问所有的Base的各种派生类D，E，F，G...中的函数f，我只能创建各种各样的指针来逐个遍历吗？显然可以用虚函数的这种多态性啊。
> 用游戏世界的通俗比喻：基类Animal表示怪物，各种具体的怪物都要继承Animal，这些怪物都有共同的行为“被打时受伤的动作"。众所周知，场上的怪物有蜘蛛、狼、兔子等等，受伤动作不能那么单一，不然游戏谁玩？
> 那么我只需要用一个基类Animal指针，就能指向各种怪物，调用它们的扣血动作接口，这不是很方便吗？


推荐这篇文章[C++ 虚函数表解析](http://blog.csdn.net/haoel/article/details/1948051/)，看完就能对虚函数的实现有清晰了解。

-----
### 纯虚函数

纯虚函数和虚函数有些不一样。一般是这样定义的
```
class Base {
public:
	virtual void f() = 0;	//纯虚函数，看清楚行尾
};
```
先上一个概念：抽象类是指含有纯虚函数的类。
规定：抽象类不能生成实例，只能被继承，而且继承它的类都必须实现里面声明的纯虚函数，这是强制规定。

> 在很多情况下，基类本身实例化是不合情理的。例如，动物作为一个基类可以派生出老虎、孔雀等子类，但动物本身生成对象明显不合常理，以马克思主义来讲，它是对creature的最高抽象，是一个抽象的概念，不是具体实际存在的，哈哈哈。

推荐这篇文章[虚函数和纯虚函数的区别](http://blog.csdn.net/hackbuteer1/article/details/7558868)，看完就能知道纯虚函数到底纯在哪里。


-----
### 总结

- 纯虚函数和虚函数都是实现多态的途径。
- 它们既有相似之处，也有不同之处。






