# 适配器模式

### 适配器模式的原理

网上大多举一个插头转换器的例子，我看完不能立马映射到脑海里，这究竟是什么原理。

模式来源于需求，简单看看这个实际故事吧：
一周前老大让我开发一套接口，功能是关于登录逻辑的，但是他只丢给我一个功能需求，就这么简单，实现可不简单，要考虑各种复杂的可能性、兼容性、易用性等。而我已经写完了，老大突然说登陆器是TX自家的，它们对接口的调用有特殊要求，我们只能迎合它们，接着丢给我一个文档《TXGame登陆流程》。怎么办？改接口麻烦很大啊，虽然接口抽得很完美(吹牛中...)，但是改也要改很多啊。我必须避免这种体力活，于是想到最快的方法是`适配器模式`，将之前写的接口简单包装一下不就行了。

简单的讲，适配器模式就是：
客户规定接口必须是这样，而你目前已经实现的接口并不是那样，为了方便客户，你写个符合客户规定的接口来简单包装你自己的接口。

既然讲的是模式，那就尽量不要涉及到语言。适配器只是一种模式，一种思想，如果接口换成类或者对象，都是OK的。

### 实例

我天马行空自己写的一套接口：
```
void Login(int uid);
void Logout(int uid);
...
```
《TXGame登陆流程》：
```
int Login(int uid, int token, int reason);	// 每个参数的意义是... 
int Logout(int uid, int token, int reason);	// 每个参数的意义是... 
...
```
其实这就是我需要实现的接口。那就写吧
```
int Login(int uid, int token, int reason){
	Login(uid);
    return 0;
}
int Logout(int uid, int token, int reason){
	Logout(uid);
    return 0;
}
```
注：这只是我YY出来的，了解大致的思路即可，不用扣细节。以上是接口适配器。如果是对象适配器，那就实现一个类，类中的成员对象为你现有的对象。如果是类适配器，那就实现一个新的类，继承现有的类，定义新接口即可。